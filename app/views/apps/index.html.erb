<% breadcrumb :apps %>

<% if @apps.any? %>
  <div class="overflow-x-auto">
    <%= render TableComponent.new(columns: ["Name", "Description", "Bundle Identifier"]) do |table| %>
      <% table.with_heading do %>
        <div class="sm:flex sm:justify-between sm:items-center mb-8">
          <!-- Left: Title -->
          <div class="mb-4 sm:mb-0">
            <h1 class="text-2xl md:text-3xl text-slate-800 font-bold">Apps ğŸ‘©â€ğŸ’»</h1>
          </div>

          <div class="grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2">
            <%= authz_link_to :green, new_app_path do %>
              <%= inline_svg("create_plus.svg", classname: "w-4 fill-current opacity-50 shrink-0") %>
              <span class="hidden xs:block ml-2">Add a new app</span>
            <% end %>
          </div>
        </div>
      <% end %>

      <% @apps.each do |app| %>
        <% table.with_row do |row| %>
          <% row.with_cell do %>
            <div class="flex items-center">
              <%= image_tag("#{app.platform}.svg", width: 20, class: "inline-flex mr-3") %>
              <div class="font-medium text-slate-800">
                <%= link_to app.name, app_path(app) %>
              </div>
            </div>
          <% end %>
          <% row.with_cell do %>
            <div class="text-left"><%= simple_format app.description %></div>
          <% end %>
          <% row.with_cell do %>
            <div class="text-left"><%= app.bundle_identifier %></div>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
<% else %>
  <p>Go to the
    <%= link_to "new app page", new_app_path %>
    to create an app and configure their integrations.
  </p>
<% end %>
