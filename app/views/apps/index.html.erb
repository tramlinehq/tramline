<% breadcrumb :apps %>

<div class="sm:flex sm:justify-between sm:items-center mb-8">
  <!-- Left: Title -->
  <div class="mb-4 sm:mb-0">
    <h1 class="text-2xl md:text-3xl text-slate-800 font-bold">Apps üë©‚Äçüíª</h1>
  </div>

  <div class="grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2">
    <%= authz_link_to :green, new_app_path do %>
      <svg class="w-4 h-4 fill-current opacity-50 shrink-0" viewBox="0 0 16 16">
        <path d="M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"/>
      </svg>
      <span class="hidden xs:block ml-2">
        Add a new app
      </span>
    <% end %>
  </div>
</div>

<% if @apps.any? %>
  <div class="overflow-x-auto">
    <table class="table-auto w-full">
      <!-- Table header -->
      <thead class="text-xs font-semibold uppercase text-slate-500 bg-slate-50 border-t border-b border-slate-200">
      <tr>
        <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
          <div class="font-semibold text-left">Name</div>
        </th>
        <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
          <div class="font-semibold text-left">Description</div>
        </th>
        <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
          <div class="font-semibold text-left">Bundle Identifier</div>
        </th>
      </tr>
      </thead>
      <!-- Table body -->
      <tbody class="text-sm divide-y divide-slate-200">
      <!-- Row -->
      <% @apps.each do |app| %>
        <tr>
          <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
            <div class="flex items-center">
              <div class="font-medium text-slate-800">
                <%= link_to app.name, app_path(app) %>
              </div>
            </div>
          </td>
          <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
            <div class="text-left"><%= simple_format app.description %></div>
          </td>
          <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
            <div class="text-left"><%= app.bundle_identifier %></div>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <p>Go to the
    <%= link_to "new app page", new_app_path %>
    to create an app and configure their integrations.
  </p>
<% end %>
