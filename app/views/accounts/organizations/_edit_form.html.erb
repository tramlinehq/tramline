<% if @organization.sso? %>
  <%= render SectionComponent.new(style: :titled, title: "Authentication", subtitle: "Single Sign-On / SAML configuration") do %>
    <div class="flex flex-col gap-y-6 w-1/3">
      <div class="flex items-center gap-1">
        <%= render BadgeComponent.new(text: "SSO Enabled", status: :success) %>
        <% @organization.sso_domains.each do |domain| %>
          <%= render BadgeComponent.new(text: domain, kind: :badge) %>
        <% end %>
      </div>

      <%= render SmartTextBoxComponent.new(@organization.sso_tenant_id,
            label: "SSO Tenant ID",
            clipboard: true,
            clipboard_tooltip: "Copy ID") %>

      <%= render SmartTextBoxComponent.new(@organization.sso_configuration_link,
            label: "SSO Setup Link",
            clipboard: true,
            clipboard_tooltip: "Copy link") %>
    </div>
  <% end %>
<% end %>

<%= render SectionComponent.new(style: :titled, title: "API", subtitle: "Use these credentials to make API calls to Tramline") do %>
  <div class="flex flex-col gap-y-6 w-1/3">
    <%= render SmartTextBoxComponent.new(@organization.id,
          label: "Account ID",
          clipboard: true,
          clipboard_tooltip: "Copy ID") %>

    <%= render SmartTextBoxComponent.new(@organization.api_key,
          label: "API Key",
          clipboard: true,
          password: true,
          clipboard_tooltip: "Copy key") %>
  </div>
<% end %>

<% if @organization.custom_storage.present? %>
  <%= render SectionComponent.new(style: :titled, title: "Custom Storage", subtitle: "Custom Google Cloud Storage bucket for build artifacts") do %>
    <div class="flex flex-col gap-y-6 w-1/3">
      <%= render SmartTextBoxComponent.new(@organization.custom_storage.bucket,
            label: "Bucket Name",
            clipboard: false) %>

      <%= render SmartTextBoxComponent.new(@organization.custom_storage.project_id,
            label: "Project ID",
            clipboard: false) %>
    </div>
  <% end %>
<% end %>
