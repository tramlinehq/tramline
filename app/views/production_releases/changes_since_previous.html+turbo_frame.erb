<% component = EnhancedTurboFrameComponent.new(dom_id(@prod_release, :changes_since_previous)) %>
<% component.with_loading_indicator %>
<%= render component do %>
  <% if @commits.blank? %>
    <%= render EmptyStateComponent.new(title: "No changes", text: "There are no changes since the previous release", banner_image: "git_commit.svg", type: :subdued, margin_top: false) %>
  <% else %>
    <%= render partial: "shared/divide_collection", locals: { collection: render(CommitComponent.with_collection(@commits)) } %>
  <% end %>
<% end %>
