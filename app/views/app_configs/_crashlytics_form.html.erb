<% if integrable.firebase_crashlytics_connected? %>
  <% f.with_section(heading: "Select Firebase Apps") do |section| %>
    <% section.with_description do %>
      Apps against your connected Firebase project.
      <%= image_tag "integrations/logo_crashlytics.png", title: "Firebase", width: 24, class: "py-2" %>
    <% end %>

    <% if firebase_crashlytics_android_apps.present? %>
      <div class="mb-4">
        <%= section.F.labeled_select :firebase_crashlytics_android_config,
                                     "Android App",
                                     options_for_select(display_channels(firebase_crashlytics_android_apps) { |app| "#{app[:display_name]} #{app[:app_id]}" },
                                                        integrable.config.firebase_crashlytics_android_config.to_json) %>
      </div>
    <% end %>

    <% if firebase_crashlytics_ios_apps.present? %>
      <div>
        <%= section.F.labeled_select :firebase_crashlytics_ios_config,
                                     "iOS App",
                                     options_for_select(display_channels(firebase_crashlytics_ios_apps) { |app| "#{app[:display_name]} #{app[:app_id]}" },
                                                        integrable.config.firebase_crashlytics_ios_config.to_json) %>
      </div>
    <% end %>
  <% end %>
<% end %>
