<% component = V2::EnhancedTurboFrameComponent.new(dom_id(@train, :edit_train)) %>
<% component.with_loading_indicator %>
<%= render component do %>
  <% if @edit_not_allowed %>
    <%= render V2::AlertComponent.new(kind: :banner, type: :notice, title: "Updates will be applied on a new release", full_screen: false) do %>
      The submissions settings can be edited while there are active releases. But they will only be applied on the next release.
    <% end %>
  <% end %>

  <%= render "form",
             app: @app,
             train: @train,
             platform_label: @platform.display_attr(:platform),
             platform_name: @platform.platform,
             platform: @platform,
             platform_config: @config,
             ci_actions: @ci_actions,
             submission_types: @submission_types %>
<% end %>
