<div class="min-h-screen bg-gray-100 flex items-center justify-center">
  <div class="w-full max-w-lg px-4">
    <div class="bg-white shadow rounded-xl p-8">
      <div class="space-y-4">
        <div class="flex items-center justify-between mb-2">
          <h2 class="text-xl font-bold text-gray-900">Select Jira Organization</h2>
        </div>

        <% if @resources&.any? %>
          <%= form_tag jira_set_organization_path, method: :post, class: "space-y-4" do %>
            <%= hidden_field_tag :code, params[:code] %>
            <%= hidden_field_tag :state, params[:state] %>
            <div class="space-y-3">
              <% @resources.each do |org| %>
                <div class="relative flex items-center space-x-3 rounded-lg border border-gray-300 bg-white px-4 py-3 shadow-sm hover:border-gray-400 focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2">
                  <div class="flex-shrink-0">
                    <%= radio_button_tag 'cloud_id', org["id"], false,
                        class: "h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-600",
                        required: true %>
                  </div>
                  <div class="min-w-0 flex-1">
                    <label for="cloud_id_<%= org["id"] %>" class="cursor-pointer block focus:outline-none">
                      <span class="absolute inset-0" aria-hidden="true"></span>
                      <p class="text-sm font-medium text-gray-900"><%= org["name"] %></p>
                      <p class="truncate text-xs text-gray-500"><%= org["url"] %></p>
                    </label>
                  </div>
                </div>
              <% end %>
            </div>

            <div class="flex w-full justify-end items-center pt-2">
              <%= submit_tag "Continue", class: "ml-auto inline-flex justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600" %>
            </div>
          <% end %>
        <% else %>
          <div class="rounded-md bg-yellow-50 p-4">
            <div class="text-sm text-yellow-700">
              <h3 class="font-medium text-yellow-800">No organizations available</h3>
              <p class="mt-1">Please try again or contact support if the issue persists.</p>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
