<!--  Set default values for the partial -->
<% filter ||= {} %>
<% index ||= 0 %>

<div class="flex items-center gap-4" data-domain--release-filters-target="filter">
  <%= select_tag "app_config[jira_config][release_filters][#{index}][type]",
                 options_for_select([
                   [t("integrations.project_management.jira.release_filters.types.label"), "label"],
                   [t("integrations.project_management.jira.release_filters.types.fix_version"), "fix_version"]
                 ], filter['type']),
                 class: "mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6" %>

  <%= text_field_tag "app_config[jira_config][release_filters][#{index}][value]",
                     filter['value'],
                     placeholder: "e.g., release-1.0.0",
                     class: "mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6" %>

  <%= render ButtonComponent.new(
    scheme: :naked_icon,
    type: :action,
    size: :none,
    html_options: {
      class: "mt-2",
      data: { action: "domain--release-filters#remove" }
    }) do |b|
    b.with_icon("trash.svg", size: :md)
  end %>
</div>
