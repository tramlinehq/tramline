<%= render V2::ModalComponent.new(title:, subtitle:, size: :xl_4, authz: false) do |modal| %>
  <% if button_scheme == :naked_icon %>
    <% button = modal.with_button(scheme: :naked_icon, type: :action, size: :none) %>
    <% button.with_tooltip(title, placement: "top") %>
  <% else %>
    <% button = modal.with_button(label: title, scheme: :supporting, type: :action, size: :xxs) %>
  <% end %>

  <% button.with_icon("diff.svg", size: :lg) %>

  <% modal.with_body do %>
    <%= tag.turbo_frame id: dom_id(parent_release, :changes_since_previous), src: changes_path, loading: :lazy, class: "with-turbo-frame-loader" do %>
      <%= render V2::LoadingIndicatorComponent.new(skeleton_only: true, turbo_frame: true) %>
    <% end %>
  <% end %>
<% end %>
